$ g++-6.3.0 -std=c++14 -O3 -Wall -Wextra -Wpedantic -pthread
$ ./thread-promise.exe
enter char or 'e' for exception: result: read char c
$ ./thread-promise.exe
enter char or 'e' for exception: EXCEPTION: read_data exception!
$
